# Interlude: proof

## Exercise 1 (example)

This "interlude" chapter is not directly about programming, but relates to mathematical analysis of a kind which is much
easier with functional programming than imperative programming, and is therefore a major reason to use functional
programming. You will write mathematical proofs as Parson's problems.

`≡`, as before, refers to mathematical equality, to distinguish it from Python's operators `=` and `==`.
In the case of functions, two functions are equivalent if they give the same output on all inputs.

> This is called **extensional** equality, and is contrasted with **intensional** equality, where two functions are
> equal if they have the same definition. Intensional equality isn't very useful to mathematicians, but it's the
> definition used by Python's `==` because computers can't always tell if two functions are extensionally equal.
> (Formally, extensional equality is **undecidable**.) However, mathematicians usually can prove whether two functions
> are extensionally equal, which is what we will do in this chapter.

In this chapter, we will prove equalities of functions. Our proofs will be very pedantic: more than just well-worded
arguments, they will follow a syntax a bit like a programming language. Each step is an equation derived from previous
lines, with a justification at the end of the line. We make a single inference at each step, by applying a single
definition or property.

For instance, opposite is the following proof that for any function `f`, `f ∘ idem ≡ f`:
```
(f ∘ idem)(x) ≡ f(idem(x))  for any value of x by the definition of composition
              ≡ f(x)        applying idem
⇒ f ∘ idem ≡ f              by extensional equality
```
Recall that `∘` is function composition. I have switched back to this symbol over `|compose|` since we are working with
mathematics, not functions. (Since the opposite file is not code, it won't run, but you can still click the button if
you want a green tick.)

In the first line, we apply the definition of composition, `(f ∘ g)(x) ≡ f(g(x))`, taking `idem` to be `g`.

In the second line, we apply the definition of `idem`, being `idem(x) ≡ x`.

In the third line, we use the definition of function equality to make an inference. Since `(f ∘ idem)` and `f` produce
the same result when applied to any argument `x`, we infer they are the same function. Note that it is only possible to
remove a variable in this way if it appears at the end of the expression on each side of the `≡` sign, and nowhere else.
